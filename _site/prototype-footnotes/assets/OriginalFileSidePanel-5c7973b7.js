import{d as K}from"./dayjs.min-633259b2.js";import{d as w,i as u,Z as f,A as L,a as r,c as d,g as x,T as A,b as g,f as t,h as D,t as R,C as O,D as U,G as I,a4 as z,$ as M,a5 as H,k as E,N as F,z as Z,H as q,e as j,l as G,w as T,B as V,a6 as J,a7 as Q}from"./index-086108b4.js";import{f as W}from"./InputElement.vue_vue_type_script_setup_true_lang-b901796a.js";import{T as X}from"./TextEditor-f5aaa668.js";import{O as Y,c as ee}from"./SideToggle.vue_vue_type_script_setup_true_lang-24f80c0e.js";var y=(e=>(e[e.BEFORE_UPDATE=0]="BEFORE_UPDATE",e[e.ON_UPDATE=1]="ON_UPDATE",e[e.SUCCEED=200]="SUCCEED",e[e.ERROR=400]="ERROR",e))(y||{});const b=e=>(O("data-v-a08cd0d6"),e=e(),U(),e),te={class:"save-button-container"},ae={key:0,class:"save-status"},se={key:0},oe=b(()=>t("div",{class:"icon"},[t("span",{class:"material-icons"}," cloud_upload ")],-1)),le=b(()=>t("p",{class:"status-text"},"Daten werden gespeichert",-1)),ne=[oe,le],ie={key:1},ue=b(()=>t("div",{class:"icon icon--error"},[t("span",{class:"material-icons"}," error_outline ")],-1)),re=b(()=>t("p",{class:"error-text"},"Fehler beim Speichern",-1)),de=[ue,re],ce={key:2},pe={class:"status-text"},ve={class:"on-succeed"},_e=w({__name:"SaveDocumentUnitButton",props:{ariaLabel:null,updateStatus:null},emits:["updateDocumentUnit"],setup(e,{emit:c}){const n=e,s=u(!1),a=u(!1),o=u(!0),l=u(!1),i=u(""),p=()=>{s.value=!1,a.value=!1,o.value=!1,l.value=!1},_=()=>{switch(p(),n.updateStatus){case y.BEFORE_UPDATE:{s.value=!0;return}case y.ON_UPDATE:{s.value=!1,a.value=!0;return}case y.SUCCEED:{s.value=!1,o.value=!0,i.value=K().format("HH:mm:ss");return}default:s.value=!1,l.value=!0;return}},C=()=>{c("updateDocumentUnit")};return f(()=>n.updateStatus,()=>{_()}),L(()=>{_()}),(P,S)=>(r(),d("div",te,[x(A,{"aria-label":e.ariaLabel,label:"Speichern",onClick:C},null,8,["aria-label"]),s.value?g("",!0):(r(),d("div",ae,[a.value?(r(),d("div",se,ne)):g("",!0),l.value?(r(),d("div",ie,de)):g("",!0),o.value?(r(),d("div",ce,[t("p",pe,[D(" Zuletzt gespeichert um "),t("span",ve,R(i.value),1),D(" Uhr ")])])):g("",!0)]))]))}});const Fe=I(_e,[["__scopeId","data-v-a08cd0d6"]]),me=e=>(O("data-v-76ed8a33"),e=e(),U(),e),fe=["id","aria-label","onKeypress","onKeyup"],he={key:0,class:"flex flex-row items-center"},ge=me(()=>t("span",{class:"leading-default material-icons text-gray-900"},"error_outline",-1)),ye={class:"label-02-reg m-4 text-gray-900"},xe=w({__name:"KeywordsChipsInput",props:{id:null,value:null,modelValue:null,error:null,ariaLabel:null,placeholder:null,validationError:null},emits:["update:modelValue","addChip","deleteChip","input"],setup(e,{emit:c}){const n=e,{emitInputEvent:s}=z(n,c),a=u(n.modelValue??[]),o=u(),l=u(""),i=u(),p=u();function _(){c("update:modelValue",a.value.length===0?void 0:a.value)}function C(){const v=l.value.trim();if(v.length>0){if(a.value.includes(v)){o.value={title:"Schlagwort bereits vergeben."},l.value="";return}c("addChip",v),o.value||(a.value.push(v),_()),l.value=""}}function P(v){c("deleteChip",v)}const S=()=>{o.value=void 0},N=()=>{i.value!==void 0&&l.value===""&&i.value.focusFirst()},B=()=>{i.value!==void 0&&i.value.resetFocus(),p.value!==void 0&&p.value.focus()};return f(n,()=>{n.modelValue&&(a.value=n.modelValue),o.value=n.error}),f(a,()=>{a.value===void 0&&B()}),f(l,()=>{o.value&&l.value!==""&&(o.value=void 0)}),(v,m)=>{var $;return r(),d("div",null,[M(t("input",{id:e.id,ref_key:"chipsInput",ref:p,"onUpdate:modelValue":m[0]||(m[0]=h=>l.value=h),"aria-label":e.ariaLabel,class:"input mb-[0.5rem]",type:"text",onBlur:S,onInput:m[1]||(m[1]=(...h)=>E(s)&&E(s)(...h)),onKeypress:F(C,["enter"]),onKeyup:F(N,["right"])},null,40,fe),[[H,l.value]]),o.value?(r(),d("div",he,[ge,t("p",ye,R(($=o.value)==null?void 0:$.title),1)])):g("",!0),x(W,{ref_key:"chipsList",ref:i,modelValue:a.value,"onUpdate:modelValue":m[2]||(m[2]=h=>a.value=h),error:o.value,onDeleteChip:P,onPreviousClickedOnFirst:B},null,8,["modelValue","error"])])}}});const Te=I(xe,[["__scopeId","data-v-76ed8a33"]]),k=e=>(O("data-v-ebec96d3"),e=e(),U(),e),Ee=k(()=>t("div",{class:"flex items-center"},[t("h2",{class:"grow heading-02-regular"},"Originaldokument")],-1)),be={key:0,class:"flex flex-col gap-24"},ke=k(()=>t("span",{class:"material-icons odoc-upload-icon"},"cloud_upload",-1)),Ce=k(()=>t("span",{class:"material-icons"},"arrow_forward",-1)),De=k(()=>t("span",null,"Zum Upload",-1)),we={key:1},Oe={inheritAttrs:!1},Ue=w({...Oe,__name:"OriginalFileSidePanel",props:{open:{type:Boolean},hasFile:{type:Boolean},file:null,fixedPanelPosition:{type:Boolean}},emits:["update:open"],setup(e,{emit:c}){const n=e,s=u(!1);f(()=>n.open,()=>s.value=n.open??!1,{immediate:!0}),f(s,()=>c("update:open",s.value));const a=Z(),o=q(()=>({name:"caselaw-documentUnit-:documentNumber-files",params:{documentNumber:a.params.documentNumber},query:a.query}));return(l,i)=>{const p=j("router-link");return r(),G(ee,{"is-expanded":s.value,"onUpdate:isExpanded":i[0]||(i[0]=_=>s.value=_),label:"Originaldokument","opening-direction":E(Y).LEFT},{default:T(()=>[t("div",J(Q(l.$attrs)),[t("div",{class:V(["basis-1/3! flex flex-col gap-56",{sticky:e.fixedPanelPosition}])},[Ee,e.hasFile?e.file?(r(),d("div",{key:2,class:V(["border-1 border-gray-400 border-solid overflow-scroll",{"editor-height":e.fixedPanelPosition}])},[x(X,{"element-id":"odoc","field-size":"max",value:e.file},null,8,["value"])],2)):(r(),d("div",we,"Dokument wird geladen")):(r(),d("div",be,[ke,D(" Es wurde noch kein Originaldokument hochgeladen. "),x(p,{class:"flex gap-2 items-center link-01-bold",to:E(o)},{default:T(()=>[Ce,De]),_:1},8,["to"])]))],2)],16)]),_:1},8,["is-expanded","opening-direction"])}}});const Ve=I(Ue,[["__scopeId","data-v-ebec96d3"]]);export{Te as K,Ve as O,Fe as S,y as U};
